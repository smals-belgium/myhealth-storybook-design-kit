@use '../../../design-kit' as mh;
@use '@angular/material' as mat;

@mixin alert-theme(
  $surface-lighter,
  $surface-light,
  $surface-medium,
  $surface-dark,
  $surface-darker,
  $typography-color,
  $icon-color
) {
  background: $surface-lighter;
  border-radius: mh.$border-radius-s;
  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.13);
  padding: mh.$spacing-s;

  display: flex;
  flex-direction: column;
  gap: mh.$spacing-s;

  .display-flex {
    display: flex;
    gap: mh.$spacing-s;
  }

  .flex-grow {
    flex-grow: 1;
    flex-shrink: 1;
    min-width: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
    display: flex;
    flex-direction: column;
    gap: mh.$spacing-s;
  }

  h2 {
    @include mh.font-default-semibold;
  }

  p,
  .alert-details {
    @include mh.font-small-regular;
  }

  h2,
  p,
  .alert-details {
    color: $typography-color;
    margin: 0;
  }

  @include mat.icon-overrides(
    (
      color: $icon-color,
    )
  );

  mat-icon {
    flex-shrink: 0;
  }

  mat-icon.top-right-icon,
  .pointer {
    cursor: pointer;
  }

  button[mat-flat-button] {
    background-color: $surface-medium;
    width: max-content;

    &:disabled {
      background-color: mh.$surface-brand-neutral-light;
    }

    &:hover {
      background-color: $surface-dark;
    }

    &:focus,
    &:active {
      background-color: $surface-darker;
    }
  }
}

.info {
  @include alert-theme(
    mh.$surface-brand-primary-lighter,
    mh.$surface-brand-primary-light,
    mh.$surface-brand-primary-medium,
    mh.$surface-brand-primary-dark,
    mh.$surface-brand-primary-dark,
    mh.$typography-brand-primary-dark,
    mh.$typography-brand-primary-dark
  );
}

.success {
  @include alert-theme(
    mh.$surface-semantic-success-lighter,
    mh.$surface-semantic-success-light,
    mh.$surface-semantic-success-medium,
    mh.$surface-semantic-success-dark,
    mh.$surface-semantic-success-dark,
    mh.$typography-semantic-success-medium,
    mh.$typography-semantic-success-medium
  );
}

.warning {
  @include alert-theme(
    mh.$surface-semantic-warning-lighter,
    mh.$surface-semantic-warning-light,
    mh.$surface-semantic-warning-medium,
    mh.$surface-semantic-warning-dark,
    mh.$surface-semantic-warning-dark,
    mh.$typography-semantic-warning,
    mh.$typography-semantic-warning
  );
}

.error {
  @include alert-theme(
    mh.$surface-semantic-error-lighter,
    mh.$surface-semantic-error-light,
    mh.$surface-semantic-error-medium,
    mh.$surface-semantic-error-dark,
    mh.$surface-semantic-error-dark,
    mh.$typography-semantic-error-medium,
    mh.$typography-semantic-error-medium
  );
}

.notification {
  @include alert-theme(
    mh.$surface-brand-neutral-lighter,
    mh.$surface-brand-primary-light,
    mh.$surface-brand-primary-medium,
    mh.$surface-brand-primary-dark,
    mh.$surface-brand-primary-dark,
    mh.$typography-brand-neutral-darker,
    mh.$typography-semantic-error-medium
  );

  .top-right-icon {
    @include mat.icon-overrides(
      (
        color: mh.$typography-brand-neutral-darker,
      )
    );
  }
}

.white {
  background: mh.$color-white;

  h2,
  p,
  .alert-details {
    color: mh.$typography-brand-neutral-darker;
  }
}
