import { Meta } from '@storybook/blocks';

<Meta title="Components/Table" />

# Table

> The table component is based of Angular Material's [table](https://material.angular.io/components/table). Material's core features will remain the same and can be implemented in the same way.
> The My Health belgium.be Design Kit will simply overrule the component's styling.

## Usage

To use the **table component** My Health styles, include them in your root SCSS file:

```css
@use '@myhealth-belgium/design-kit' as mh;

@include mh.override-mat-table();
```

Alternatively, you can use **all component** My Health styles by including them in your root SCSS file:

```css
@use '@myhealth-belgium/design-kit' as mh;

@include mh.override-all-mat-components();
```

## Usage guidelines

### Desktop view
<div class="image-wrapper">
<img src="/images/default-table.png" alt="Table on desktop view" />
</div>

#### Expandable Table

The Design Kit offers support for expandable tables, as seen in Angular Material's [example](https://material.angular.io/components/table/examples#table-expandable-rows).
The implementation remains largely the same, it is only a matter of adding the right classes:

The detail row in your table needs the class `mh-detail-row`:

```html
<!-- Detail row -->
<tr class="mh-detail-row" mat-row *matRowDef="let row; columns: ['expandDetail']"></tr>
```

In your `expandDetail` column's definition, add the class `mh-detail-row--expanded` when the row is expanded:

```html
<!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
<ng-container matColumnDef="expandDetail">
  <td
    mat-cell
    *matCellDef="let element"
    [class.mh-detail-row--expanded]="element === expandedElement"
    [colSpan]="columns.length"
  >
    <div>
      <!-- Detail content goes here -->
    </div>
  </td>
</ng-container>
```

Avoid repeating data from the collapsed panel. When users expand a row, they should be presented with new content only—don’t make them work to find what’s changed or added.

#### Table with selection
The Design Kit also supports tables with selection, as seen in Angular Material's [example](https://material.angular.dev/components/table/examples#table-selection).
The implementation remains largely the same; it's simply a matter of adding the appropriate class for the pointer cursor.

The data row in your table needs the class `mh-cursor-pointer`:

```html
<!-- Data row -->
<tr mat-row *matRowDef="let row; columns: columns()"  (click)="clickRow(row)" class="mh-cursor-pointer"></tr>
```

#### Loading state

For documentation on how to style the loading state of the table, see the [Skeleton loader docs](/docs/components-skeleton-loader--docs#table).

### Mobile view
> On mobile devices, tables should transform into cards to preserve readability and avoid horizontal scrolling.
> Each row becomes a card.
<div class="image-wrapper">
<img src="/images/default-card.png" alt="Card on mobile view" />
</div>

#### With labels
Display the label and value stacked vertically, one above the other.

#### Without labels
When values are self-explanatory, labels may be omitted to reduce the size of the cards. This is the case, for example, in the drug prescription list.

In both variants, text should be left-aligned. <br />
Left-aligned text is easier to read because the eye doesn't need to search for the start of each line—it's always in the same place.

## Component variations
### With toolbars
> Use toolbars for searching, filtering, and other global actions that apply to the entire table.
> In long lists, allow users to type the first letters of the desired item to quickly navigate to it, instead of requiring them to scroll.

<b>Desktop view</b>
<div class="image-wrapper">
<img src="/images/table-with-filters.png" alt="Table on desktop view with toolbars" />
<img src="/images/table-filters-open.png" alt="Table on desktop view with filter open" />

</div>
<b>Mobile view</b>
<div class="image-wrapper">
<img src="/images/card-with-filters.png" alt="Card on mobile view with toolbars" />
<img src="/images/card-filters-open.png" alt="Card on mobile view with filter open" />
</div>

#### Types of actions
* **Icon Button**: Use when multiple actions are possible in a row, or when there isn’t enough space for labels. Ensure the icon is well-known and include an ARIA label.
* **Overflow Menu**: Use when there are more than three actions, or when there isn’t enough space to display all actions as icon buttons.
<div class="image-wrapper">
<img src="/images/card-with-actions.png" alt="Card on mobile view with more then 3 actions" />
</div>

### With Selection
> The selection variant enables users to select individual rows in a data table. Selection options include:
>
> * Single-select: Radio buttons
> * Multi-select: Checkboxes
>
> Users can perform individual or batch actions on the selected items.

<b>Desktop view</b>
<div class="image-wrapper">
<img src="/images/table-with-select.png" alt="Table on desktop view with checkboxes" />
</div>
<b>Mobile view</b>
<div class="image-wrapper">
<img src="/images/card-with-select.png" alt="Card on mobile view with checkbox" />
</div>

### Decks of cards
> The so-called “deck of cards” mimics the arrangement of pages in a book. Each list element is displayed on a “card,” and each card represents a page in a stack. This layout functions as a carousel, where each item occupies the entire screen.
>
> Decks of cards are not ideal for lists longer than 4–6 elements, as they require sequential access—users must inspect each page one by one before reaching the desired content.
>
> Use case: The Bundle







