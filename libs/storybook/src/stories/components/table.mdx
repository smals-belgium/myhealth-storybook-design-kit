import { Meta } from '@storybook/blocks';

<Meta title="Components/Table" />

# Table

> The table component is based of Angular Material's [table](https://material.angular.io/components/table). Material's core features will remain the same and can be implemented in the same way.
> The My Health belgium.be Design Kit will simply overrule the component's styling.

## Usage

To use the **table component** My Health styles, include them in your root SCSS file:

```css
@use '@myhealth-belgium/design-kit' as mh;

@include mh.override-mat-table();
```

Alternatively, you can use **all component** My Health styles by including them in your root SCSS file:

```css
@use '@myhealth-belgium/design-kit' as mh;

@include mh.override-all-mat-components();
```

## Usage guidelines

### Desktop view
<div class="image-wrapper">
<img src="/images/default-table.png" alt="Table on desktop view" />
</div>

#### Expandable Table

The Design Kit offers support for expandable tables, as seen in Angular Material's [example](https://material.angular.io/components/table/examples#table-expandable-rows).
The implementation remains largely the same, it is only a matter of adding the right classes:

The detail row in your table needs the class `mh-detail-row`:

```html
<!-- Detail row -->
<tr class="mh-detail-row" mat-row *matRowDef="let row; columns: ['expandDetail']"></tr>
```

In your `expandDetail` column's definition, add the class `mh-detail-row--expanded` when the row is expanded:

```html
<!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
<ng-container matColumnDef="expandDetail">
  <td
    mat-cell
    *matCellDef="let element"
    [class.mh-detail-row--expanded]="element === expandedElement"
    [colSpan]="columns.length"
  >
    <div>
      <!-- Detail content goes here -->
    </div>
  </td>
</ng-container>
```

#### Loading state

For documentation on how to style the loading state of the table, see the [Skeleton loader docs](/docs/components-skeleton-loader--docs#table).

### Mobile view
> On mobile devices, tables should transform into cards to preserve readability and avoid horizontal scrolling.
> Each row becomes a card
<div class="image-wrapper">
<img src="/images/default-card.png" alt="Card on mobile view" />
</div>

#### With labels
Put the label and value one above each other

#### Without labels
When the values are self-explanatory, the labels may not be mentioned to limit the size of the cards. This is the case, for example, within the drugs prescription list.

For both variants, text should be left-aligned.

## Component variations
### With toolbars
> Searching, filtering and other global actions for the whole table
> In a long list, allow users to type the first letters of the desired item; this allows users to quickly navigate to the item of interest instead of having to scroll to it.

<b>Desktop view</b>
<div class="image-wrapper">
<img src="/images/table-with-filters.png" alt="Table on desktop view with toolbars" />
<img src="/images/table-filters-open.png" alt="Table on desktop view with filter open" />

</div>
<b>Mobile view</b>
<div class="image-wrapper">
<img src="/images/card-with-filters.png" alt="Card on mobile view with toolbars" />
<img src="/images/card-filters-open.png" alt="Card on mobile view with filter open" />
</div>

#### Types of actions
* Icon-button: Use when multiple actions are possible in a row, or if there isn’t enough space for the label (make sure the icon is well-known and add an aria label)
* Overflow menu: use when you have more than 3 actions or there isn’t enough space to show the actions as icon-buttons
<div class="image-wrapper">
<img src="/images/card-with-actions.png" alt="Card on mobile view with more then 3 actions" />
</div>

### With Selection
> The selection variant enables users to select individual rows in a data table. Selection options include a single-select radio button option and a multi-select checkbox option. Users can perform a single action or batch actions against selected items.<br />
<b>Desktop view</b>
<div class="image-wrapper">
<img src="/images/table-with-select.png" alt="Table on desktop view with checkboxes" />
</div>
<b>Mobile view</b>
<div class="image-wrapper">
<img src="/images/card-with-select.png" alt="Card on mobile view with checkbox" />
</div>

### Decks of cards
> The so-called “deck of cards” mimics the arrangement of pages in a book.  Each element of the list is displayed on a “card” and each such card is a page in a stack of pages. The deck-of-cards is a carousel in which each item occupies the whole screen.
decks of cards do not work well for lists longer than 4–6 elements because they force sequential access: users must inspect each page one by one, before reaching the page of interest.
* Used for the bundle
* Left aligned text
  * Left-aligned text is simply easier to read: the eye doesn’t have to find a start point for each new line, but instead, the start point is predictable and always the same.
* Collapse-expand row
  * Don’t repeat the data from the collapsed panel : when users have expanded a row, they shouldn’t have to work to get to new content;





